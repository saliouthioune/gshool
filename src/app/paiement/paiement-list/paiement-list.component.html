<app-index></app-index>
<nav class="navbar navbar-expand-sm bg-dark navbar-dark" style="margin-top: 5px;">
    <a class="navbar-brand" href="#">Paiement List {{ desc }}</a>
    <!-- Links -->
    <ul class="navbar-nav ml-auto">
      <li class="nav-item" style="margin-right: 15px">
        <button class="btn btn-primary" (click)="gotoPaiement()"><i class="bi bi-plus-lg"></i></button>
      </li>
      <div class="form-inline">
        <input class="form-control mr-sm-2" type="text" [(ngModel)]="search" placeholder="Search">
        <!-- <button class="btn btn-success" type="submit">Search</button> -->
      </div>
    </ul>
  </nav>
<br/>
<div class="container-fluid">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Id</th>
          <th>Type paiement</th>
          <th>Montant</th>
          <th>Mois</th>
          <th>Date Paiement</th>
          <th>Prenom</th>
          <th>Nom</th>
          <th>Email</th>
          <th>ACTIONS</th>
      </tr>
      </thead>
        <tbody>
          <tr *ngFor="let paie of paiementList">
            <td>{{ paie.paiementId }}</td>
            <td>{{paie.typep}}</td>
            <td>{{ paie.montant }}</td>
            <td>{{ paie.mois }}</td>
            <td>{{ paie.datep }}</td>
            <td>{{ paie.prenom }}</td>
              <ng-container *ngFor="let etu of eleves">
                <div *ngIf="etu.id===paie.etudiant.id">
                   <td> {{etu.name}}</td>
                </div>
              </ng-container>
              <td>{{ paie.email }}</td>
            <td>
                <button (click)="getPaiement(paie.paiementId)" class="btn btn-info">
                  <i class="bi bi-pen"></i>
                </button>
                &nbsp;&nbsp;
                
          <a style="text-decoration: none;" [routerLink]="['/facture']" [queryParams]="{id:paie.paiementId,ide:paie.etudiant.id}" class="btn-success">Facture</a>
        <a [routerLink]="['/sentm']" [queryParams]="{id:paie.paiementId,ide:paie.etudiant.id}"><img src="/assets/Image/mail.jpg" class="img-mail"/></a>
            </td>
        </tr>
        
        <tr *ngIf="paiementList && paiementList.length == 0">
            <td colspan="7">No records found!</td>
        </tr>
        </tbody>
        
    </table>
    
</div>
